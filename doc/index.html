<html><head></head><body><h1>Variable renaming</h1>

<p>Modify your solver to rename variables correctly. Start by writing a helper
function to rename all the variables in a term. I suggest:</p>

<pre><code>fn rename_vars(term: &amp;Term, depth: usize) -&gt; Term { ... }
</code></pre>

<p>Use <code>apply_subs</code> for inspiration, but <code>rename_vars</code> should be simpler. For every
variable that it finds in the term, it should rename it by appending a hash sign
and the depth to the end, For example:</p>

<pre><code>X at depth 1 =&gt; X#1
Head at depth 5 =&gt; Head#5
</code></pre>

<p>So it returns a clone of the term but with all variables renamed in this way.</p>

<p>Next, update solve to take a <code>depth</code> parameter:</p>

<pre><code>pub fn solve(program: &amp;[Clause], goals: &amp;[Term], query: &amp;Term, depth: usize) { ... }
</code></pre>

<p>Every time it considers a clause in the program, it should rename all of its
variables before calling <code>mgu</code> or <code>resolution</code>. When <code>solve</code> calls itself
recursively, it should increment the depth.</p>

<p>No other changes should be needed.</p>
</body></html>